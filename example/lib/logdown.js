/**
 * logdown - Debug utility with markdown support that runs on browser and server
 *
 * @version v1.2.4
 * @link https://github.com/caiogondim/logdown
 * @author Caio Gondim <me@caiogondim.com> (http://caiogondim.com)
 * @license ISC
 */
!function(){"use strict";function e(r){if(!(this instanceof e))return new e(r);r=r||{};var t=void 0===r.prefix?"":r.prefix;return t=f(t),t&&u(t,h)?p(t,h):(this.markdown=void 0===r.markdown?!0:r.markdown,this.prefix=t,v=Math.max(v,this.prefix.length),h.push(this),x()?(this.prefixColor=E[y%E.length],y+=1):g()&&(this.prefixColor=D()),this)}function r(e,r,t,o){for(t=t||" ";e.length<r;)e=o?t+e:e+t;return e}function t(){var e=new Date;return[e.getFullYear(),"-",r(String(e.getMonth()),2,"0",!0),"-",r(String(e.getDate()),2,"0",!0),"-",r(String(e.getHours()),2,"0",!0),":",r(String(e.getMinutes()),2,"0",!0),":",r(String(e.getSeconds()),2,"0",!0),":",r(String(e.getMilliseconds()),3,"0",!0)].join("")}function o(e){for(var r=[],t=n(e);t;)e=e.replace(t.rule.regexp,t.rule.replacer),x()&&(r.push(t.rule.style),r.push("color:inherit;")),t=n(e);return{text:e,styles:r}}function n(e){var r=[],t=[];return x()?t=[{regexp:/\*([^\*]+)\*/,replacer:function(e,r){return"%c"+r+"%c"},style:"font-weight:bold;"},{regexp:/\_([^\_]+)\_/,replacer:function(e,r){return"%c"+r+"%c"},style:"font-style:italic;"},{regexp:/\`([^\`]+)\`/,replacer:function(e,r){return"%c"+r+"%c"},style:"background:#FDF6E3; color:#586E75; padding:1px 5px; border-radius:4px;"}]:g()&&(t=[{regexp:/\*([^\*]+)\*/,replacer:function(e,r){return"["+w.modifiers.bold[0]+"m"+r+"["+w.modifiers.bold[1]+"m"}},{regexp:/\_([^\_]+)\_/,replacer:function(e,r){return"["+w.modifiers.italic[0]+"m"+r+"["+w.modifiers.italic[1]+"m"}},{regexp:/\`([^\`]+)\`/,replacer:function(e,r){return"["+w.bgColors.bgYellow[0]+"m["+w.colors.black[0]+"m "+r+" ["+w.colors.black[1]+"m["+w.bgColors.bgYellow[1]+"m"}}]),t.forEach(function(t){var o=e.match(t.regexp);o&&r.push({rule:t,match:o})}),0===r.length?null:(r.sort(function(e,r){return e.match.index-r.match.index}),r[0])}function i(e,r,t){var n,i,l,c;if("string"==typeof e?t.markdown&&d()?(n=o(e),i=n.text,l=n.styles):(i=e,l=[]):(i=i||"",l=l||[],c=e),t.prefix)if(d()){var a=s(t.prefix,r);i="%c"+a+"%c "+i,l.unshift("color:"+t.prefixColor+"; font-weight:bold;","color:inherit;")}else i=s(t.prefix,r)+i;return{parsedText:i,styles:l,notText:c}}function s(e,t){e=d()?e:"["+e+"] ";var o=v;return d()||(o+=3),("log"!==t&&g()?"":"  ")+r(e,o)}function l(e,r,t){var n,i="";return t.prefix&&(i=d()?"["+t.prefixColor[0]+"m["+w.modifiers.bold[0]+"m"+s(t.prefix,r)+"["+w.modifiers.bold[1]+"m["+t.prefixColor[1]+"m ":s(t.prefix,r)),"string"==typeof e?i+=t.markdown?o(e).text:e:n=e,{parsedText:i,styles:[],notText:n}}function c(r){var t=null;"undefined"!=typeof process&&void 0!==process.env&&0===T.length&&(void 0!==process.env.NODE_DEBUG&&""!==process.env.NODE_DEBUG?t="NODE_DEBUG":void 0!==process.env.DEBUG&&""!==process.env.DEBUG&&(t="DEBUG"),t&&(e.disable("*"),process.env[t].split(",").forEach(function(r){e.enable(r)})));var o=!1;return T.forEach(function(e){"enable"===e.type&&e.regExp.test(r.prefix)?o=!1:"disable"===e.type&&e.regExp.test(r.prefix)&&(o=!0)}),o}function a(e){return new RegExp("^"+e.replace(/\*/g,".*?")+"$")}function u(e,r){var t=!1;return r.forEach(function(r){return r.prefix===e?void(t=!0):void 0}),t}function p(e,r){var t;return r.forEach(function(r){return r.prefix===e?void(t=r):void 0}),t}function f(e){return"string"==typeof e?e.replace(/\%c/g,""):e}function d(){if(x()){var e="WebkitAppearance"in document.documentElement.style,r=window.console&&(console.firebug||console.exception&&console.table),t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31;return e||r||t}return g()?process.stdout&&!process.stdout.isTTY?!1:"win32"===process.platform?!0:"COLORTERM"in process.env?!0:"dumb"===process.env.TERM?!1:/^screen|^xterm|^vt100|color|ansi|cygwin|linux/i.test(process.env.TERM)?!0:!1:void 0}function g(){return"undefined"!=typeof module&&"undefined"!=typeof module.exports}function x(){return"undefined"!=typeof window}function m(e){return e}var h=[],b=!1,v=0,y=0,E=["#B58900","#CB4B16","#DC322F","#D33682","#6C71C4","#268BD2","#2AA198","#859900"],w={modifiers:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},colors:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39]},bgColors:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49]}},T=[];e.enable=function(){Array.prototype.forEach.call(arguments,function(r){"-"===r[0]&&e.disable(r.substr(1));var t=a(r);"*"===r?T=[]:T.push({type:"enable",regExp:t})})},e.disable=function(){Array.prototype.forEach.call(arguments,function(r){"-"===r[0]&&e.enable(r.substr(1));var t=a(r);"*"===r?T=[{type:"disable",regExp:t}]:T.push({type:"disable",regExp:t})})},e.setTimestampsEnabled=function(e){b=e};var C=["debug","log","info","warn","error"];C.forEach(function(r){e.prototype[r]=function(){var e,o=[];if(!c(this)){var n=Array.prototype.slice.call(arguments,0).join(" ");b&&(n="*"+t()+"* "+n),x()?(n=f(n),e=i(n,r,this),Function.prototype.apply.call(console[r]||console.log,console,[e.parsedText].concat(e.styles,"undefined"!=typeof e.notText?[e.notText]:""))):g()&&(n=m(n),e=l(n,r,this),"warn"===r?e.parsedText="["+w.colors.yellow[0]+"m‚ö†["+w.colors.yellow[1]+"m "+e.parsedText:"error"===r?e.parsedText="["+w.colors.red[0]+"m‚úñ["+w.colors.red[1]+"m "+e.parsedText:"info"===r?e.parsedText="["+w.colors.blue[0]+"m‚Ñπ["+w.colors.blue[1]+"m "+e.parsedText:"debug"===r&&(e.parsedText="["+w.colors.gray[0]+"müêõ["+w.colors.gray[1]+"m "+e.parsedText),o.push(e.parsedText),e.notText&&o.push(e.notText),(console[r]||console.log).apply(console,o))}}});var D=function(){var e=0,r=[[31,39],[32,39],[33,39],[34,39],[35,39],[36,39]];return function(){return r[(e+=1)%r.length]}}();g()?module.exports=e:x()&&(window.Logdown=e)}();